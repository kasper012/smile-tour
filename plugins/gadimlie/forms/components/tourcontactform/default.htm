<form method="post" data-request="{{ __SELF__ }}::onSend"  data-request-success="formSuccess(this, context, data, textStatus, jqXHR)" data-request-validate data-request-flash >

   <input type="hidden" name="url" value="{{ ''| page }}">
   <input type="text" name="name" placeholder="{{ 'Name and surname' |_ }}">
   <input type="tel" name="phone" placeholder="{{ 'Whatsapp number' |_ }}">
   <input type="text" name="email" placeholder="{{ 'Email' |_ }}">
   <textarea name="msg" placeholder="{{ 'Message' |_ }}"></textarea>
   <button type="submit" class="btn btn-success px-3">{{ 'Send' |_ }}</button>
</form>

<script>
   function formSuccess(form, context, data, textStatus, jqXHR) {
      if(data['status'] != 200) 
          status = 'error'; 
       else {
              form.reset();
              status = 'success'; 
       }
      $.oc.flashMsg({
          'text': data['msg'],
          'class': status,
          'interval': 3
      });
   }
</script>